!function(){"use strict"
function e(){return btoa(Math.random()*Math.random())}function a(e,a){var t={__uniqueID__:e,callback:a,active:{},status:{},_MediaQueryLists:{},_rawMediaQueryLists:[],_values:{},queries:[],defaultValue:null}
return c[e]=t,t}function t(e){var a=e.match(/[0-9]/g)
return a?(a=a.join(""),Number(a,10)):(a=e.match(/\W[a-z]+\)/gi)[0],a.replace(/\)|\W/gi,""))}function r(e){var a=e.match(/\([a-z|-]+:/)[0]
return a?a.replace(/\(|:/g,""):null}function n(e){var a=null,t=c[e]
return t.queries.forEach(function(e){var r=t.status[e]
return r?void(a=e):void 0}),a?a:"default"}function o(e){var a=function(a){console.log("event passed to listener",a)
var t=c[e]
console.log("active is: ",t.active),console.log(t)
var r=t.defaultValue,o=t._values,i=t._MediaQueryLists,u=a._media||a.target._media
t.status[u]=a.matches
var s=a.matches,l=u===t.active.media
if(l&&!s){var d=n(e)
console.log("new value",d)
var f="default"===d?r:o[d]
t.active="default"===d?d:i[d],console.log("validQuery as as active:",t.active),t.callback(f)}else s&&(t.active=a.target||a,console.log("the query passed to callback is",u),console.log("values are",o),t.callback(o[u]))}
return d[e]=a,a}function i(e,a,n){var i=(a._values=e,a.defaultValue=e["default"])
delete e["default"]
var u=a.queries=Object.keys(e),s=a._MediaQueryLists,l=a.status,c=o(a.__uniqueID__)
a._rawMediaQueryLists=u.map(function(e){var n=matchMedia(e)
return n._type=r(e),n._value=t(e),n._media=e,s[e]=n,l[e]=n.matches,n.matches&&(a.active=n),n.addListener(c),n}),a.active||(a.active="default")
var d=e[a.active.media]
void 0===d&&(d=i),n(d)}function u(e){var a=c[e],t=d[e]
if(!a)throw Error('Unable to destroy respondable with id "'+e+'": no respondable state found.')
if(!t)throw Error('Unable to destroy respondable with id "'+e+'": no listener found.')
return a._rawMediaQueryLists.forEach(function(e){e.removeListener(t)}),delete c[e],!0}function s(e){return e?c[e]:c}function l(t,r){if(!t||"object"!=typeof t)throw Error("respondable requires an object as its first argument.")
if(!r||"function"!=typeof r)throw Error("respondable requiers a callback function as itssecond argument")
var n=e(),o=a(n,r)
return i(t,o,r),n}var c={},d={}
l.destroy=u,l.state=s,"undefined"!=typeof module&&module.exports?module.exports=l:"function"==typeof define&&"object"==typeof define.amd&&define.amd?define("respondable",[],function(){return l}):window.respondable=l}()
