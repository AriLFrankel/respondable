!function(){"use strict"
function e(){return btoa(Math.random()*Math.random())}function t(e,t){const a={__uniqueID__:e,callback:t,handlers:[],active:{},status:{},_MediaQueryLists:{},_rawMediaQueryLists:[],_values:{},queries:[],handler:null,defaultValue:null}
return l[e]=a,a}function a(e){var t=e.match(/[0-9]/g)
return t?(t=t.join(""),Number(t,10)):(t=e.match(/\W[a-z]+\)/gi)[0],t.replace(/\)|\W/gi,""))}function r(e){var t=e.match(/\([a-z|-]+:/)[0]
return t?t.replace(/\(|:/g,""):null}function n(e){var t=null,a=l[e]
return a.queries.forEach(function(e){var r=a.status[e]
return r?void(t=e):void 0}),t?t:"default"}function u(e){var t=function(t){var a=l[e]
console.log(a)
var r=a.defaultValue,u=a._values,i=a._MediaQueryLists,o=t.media
a.status[o]=t.matches
var s=t.matches,d=o===a.active.media
if(d&&!s){var c=n(e)
console.log("new value",c)
var f="default"===c?r:u[c]
a.active="default"===c?c:i[c],a.callback(f)}else s&&(a.active=t.target,a.callback(u[o]))}
return c[e]=t,t}function i(e,t,n){var i=(t._values=e,t.defaultValue=e["default"])
delete e["default"]
var o=t.queries=Object.keys(e),s=t._MediaQueryLists,d=t.status,l=u(t.__uniqueID__)
t._rawMediaQueryLists=o.map(function(e){var n=matchMedia(e)
return n._type=r(e),n._value=a(e),s[e]=n,d[e]=n.matches,n.matches&&(t.active=n),n.addListener(l),n})
var c=e[t.active.media]
void 0===c&&(c=i),n(c)}function o(e){var t=l[e],a=c[e]
if(!t)throw Error('Unable to destroy respondable with id "'+e+'": no respondable state found.')
if(!a)throw Error('Unable to destroy respondable with id "'+e+'": no listener found.')
return t._rawMediaQueryLists.forEach(function(e){e.removeListener(a)}),delete l[e],!0}function s(e){return e?l[e]:l}function d(a,r){if(!a||"object"!=typeof a)throw Error("respondable requires an object as its first argument.")
if(!r||"function"!=typeof r)throw Error("respondable requiers a callback function as itssecond argument")
var n=e(),u=t(n,r)
return i(a,u,r),n}var l={},c={}
d.destroy=o,d.state=s,"undefined"!=typeof module&&module.exports?module.exports=d:"function"==typeof define&&"object"==typeof define.amd&&define.amd?define("respondable",[],function(){return d}):window.respondable=d}()
